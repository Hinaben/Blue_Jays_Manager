CREATE TABLE BattingStats(
	BattingStatsID NUMBER(5) NOT NULL,
	PlayerNum NUMBER(4) NOT NULL,
	BatStatYear varchar(50) NULL,
	Team varchar(50) NULL,
	League varchar(10) NULL,
	Games number(8,3) NOT NULL,
	AtBats number(8,3) NOT NULL,
	Runs number(8,3) NOT NULL,
	Hits number(8,3) NOT NULL,
	TotalBases number(8,3) NOT NULL,
	Doubles number(8,3) NOT NULL,
	Triples number(8,3) NOT NULL,
	HomeRuns number(8,3) NOT NULL,
	RunsBattedIn number(8,3) NOT NULL,
	BasesOnBalls number(8,3) NOT NULL,
	IntentionalBasesOnBalls number(8,3) NOT NULL,
	Strikeouts number(8,3) NOT NULL,
	StolenBases number(8,3) NOT NULL,
	CaughtStealing number(8,3) NOT NULL,
	BattingAverage number(8,3) NOT NULL,
	OnBasePercentage number(8,3) NOT NULL,
	SluggingPercentage number(8,3) NOT NULL,
	OnBasePlusSlugging number(8,3) NOT NULL,
	GroundOrAirOuts number(8,3) NOT NULL,
  CONSTRAINT bat_pk PRIMARY KEY (BattingStatsID));
  
  CREATE TABLE CoachRoster(
	CoachID number(5) NOT NULL,
	CoachNumber number(8,3) NOT NULL,
	Name varchar(30) NOT NULL,
	Position varchar(30) NOT NULL,
 CONSTRAINT coach_pk PRIMARY KEY (CoachID));

CREATE TABLE FieldingStats(
	FieldingStatsID number(5) NOT NULL,
	PlayerNum number(8,3) NOT NULL,
	FieldStatYear varchar(30) NULL,
	Team varchar(30) NULL,
	League varchar(30) NULL,
	Position varchar(30) NULL,
	Games number(8,3) NOT NULL,
	GamesStarted number(8,3) NOT NULL,
	InningsAtThisPosition number(8,3) NOT NULL,
	TotalChances number(8,3) NOT NULL,
	Putouts number(8,3) NOT NULL,
	Assists number(8,3) NOT NULL,
	Errors number(8,3) NOT NULL,
	DoublePlays number(8,3) NOT NULL,
	PassedBall number(8,3) NOT NULL,
	StolenBases number(8,3) NOT NULL,
	CaughtStealing number(8,3) NOT NULL,
	RangeFactor number(8,3) NOT NULL,
	FieldingPercentage number(8,3) NOT NULL,
  CONSTRAINT field_pk PRIMARY KEY (FieldingStatsID));
  
  CREATE TABLE PitchingStats(
	PitchingStatsID number(8,3) NOT NULL,
	PlayerNum number(8,3) NOT NULL,
	PitchStatYear varchar(30) NULL,
	Team varchar(30) NULL,
	League varchar(30) NULL,
	Wins number(8,3) NOT NULL,
	Losses number(8,3) NOT NULL,
	EarnedRunsAverage number(8,3) NOT NULL,
	Games number(8,3) NOT NULL,
	GamesStarted number(8,3) NOT NULL,
	CompleteGames number(8,3) NOT NULL,
	ShutOuts number(8,3) NOT NULL,
	Saves number(8,3) NOT NULL,
	SaveOpportunities number(8,3) NOT NULL,
	InningsPitched number(8,3) NOT NULL,
	Hits number(8,3) NOT NULL,
	Runs number(8,3) NOT NULL,
	EarnedRuns number(8,3) NOT NULL,
	HomeRuns number(8,3) NOT NULL,
	HitBatsmen number(8,3) NOT NULL,
	BasesOnBalls number(8,3) NOT NULL,
	IntentionalBasesOnBalls number(8,3) NOT NULL,
	StrikeOuts number(8,3) NOT NULL,
	BattingAverage number(8,3) NOT NULL,
	WalksAndHitsPerInningsPitched number(8,3) NOT NULL,
	GroundOrAirOuts number(8,3) NOT NULL,
  CONSTRAINT pitch_pk PRIMARY KEY (PitchingStatsID));

CREATE TABLE PlayerBio(
	PlayerBioID number(8,3) NOT NULL,
	PlayerNum number(8,3) NOT NULL,
	Name varchar(30) NOT NULL,
	Age number(8,3) NOT NULL,
	Born varchar(30) NOT NULL,
	Draft varchar(30) NULL,
	HighSchool varchar(30) NULL,
	College varchar(30) NULL,
	Debut varchar(30) NOT NULL,
  CONSTRAINT bio_pk PRIMARY KEY (PlayerBioID));
  
  CREATE TABLE PlayerRoster(
	PlayerID number(8,3) NOT NULL,
	PlayerNum number(8,3) NOT NULL,
	Name varchar(30) NOT NULL,
	Position nvarchar2(30) NOT NULL,
	Height number(8,3) NOT NULL,
	Weight number(8,3) NOT NULL,
	SkillOrientation varchar(30) NOT NULL,
	DateOfBirth varchar2(30) NOT NULL,
  CONSTRAINT roster_pk PRIMARY KEY (PlayerID));
  
  CREATE TABLE PlayerStatsSummaries(
	PlayerStatsSummaryID NUMBER(8,3) NOT NULL,
	PlayerNum NUMBER(5) NOT NULL,
	SummaryYear varchar (30) NULL,
	Wins NUMBER(8,3) NOT NULL,
	Losses NUMBER(8,3) NOT NULL,
	EarnedRunsAverage NUMBER(8,3) NOT NULL,
	Games NUMBER(8,3) NOT NULL,
	GamesStarted NUMBER NOT NULL,
	Saves NUMBER(8,3) NOT NULL,
	InningsPitched NUMBER(8,3) NOT NULL,
	StrikeOuts NUMBER(8,3) NOT NULL,
	WalkAndHitsPerInningsPitched NUMBER(8,3) NOT NULL,
  CONSTRAINT stats_pk PRIMARY KEY (PlayerStatsSummaryID));

CREATE TABLE tblExceptionLog(
	Id NUMBER(8,3),
	ExceptionDate date NULL,
	ExceptionMessage varchar(30) NULL,
	StackTrace varchar(30) NULL,
  CONSTRAINT exception_pk PRIMARY KEY (Id));

CREATE TABLE tblUsers(
	Id NUMBER(8,3) NOT NULL,
	FirstName varchar(50) NOT NULL,
	LastName varchar(50) NOT NULL,
	Email varchar(50) NOT NULL,
	UserName varchar(50) NOT NULL,
	Password varchar(200) NOT NULL,
	Role varchar(50) NOT NULL,
	Attempts NUMBER(3) NULL,
	IsLocked NUMBER(3) NULL,
	LockedDate date NULL,
	UserID CHAR(36) NULL,
  CONSTRAINT user_pk PRIMARY KEY (Id));

----------STORED PROCEDURES---------------------------

create or replace PROCEDURE spInsertIntoBattingStats
(
  battingStatsID IN BATTINGSTATS.BattingStatsID%TYPE,
  playerNum IN BATTINGSTATS.PlayerNum%TYPE,
  batStatYear IN BATTINGSTATS.BatStatYear%TYPE,
  team IN BATTINGSTATS.Team%TYPE,
  league IN BATTINGSTATS.League%TYPE,
  games IN BATTINGSTATS.Games%TYPE,
  atBats IN BATTINGSTATS.AtBats%TYPE,
  runs IN BATTINGSTATS.Runs%TYPE,
  hits IN BATTINGSTATS.Hits%TYPE,
  totalBases IN BATTINGSTATS.TotalBases%TYPE,
  doubles IN BATTINGSTATS.Doubles%TYPE,
  triples IN BATTINGSTATS.Triples%TYPE,
  homeRuns  IN BATTINGSTATS.HomeRuns%TYPE,
  runsBattedIn IN BATTINGSTATS.RunsBattedIn%TYPE,
  basesInBalls IN BATTINGSTATS.BasesOnBalls%TYPE,
  intentionalBasesOnBalls IN BATTINGSTATS.IntentionalBasesOnBalls%TYPE,
  strikeouts IN BATTINGSTATS.Strikeouts%TYPE,
  stolenBases IN BATTINGSTATS.StolenBases%TYPE,
  caughtStealing IN BATTINGSTATS.CaughtStealing%TYPE,
  battingAverage IN BATTINGSTATS.BattingAverage%TYPE,
  onBasePercentage IN BATTINGSTATS.OnBasePercentage%TYPE,
  sluggingPercentage IN BATTINGSTATS.SluggingPercentage%TYPE,
  onBasePlusSlugging  IN BATTINGSTATS.OnBasePlusSlugging%TYPE,
  groundOrAIrOuts IN BATTINGSTATS.GroundOrAirOuts%TYPE
)
IS
  BEGIN
    INSERT INTO BATTINGSTATS
    (
      BattingStatsID,
      PlayerNum,
      BatStatYear,
      Team,
      League,
      Games,
      AtBats,
      Runs,
      Hits,
      TotalBases,
      Doubles,
      Triples,
      HomeRuns,
      RunsBattedIn,
      BasesOnBalls,
      IntentionalBasesOnBalls,
      Strikeouts,
      StolenBases,
      CaughtStealing,
      BattingAverage,
      OnBasePercentage,
      SluggingPercentage,
      OnBasePlusSlugging,
      GroundOrAirOuts
    )
    VALUES
    (
      battingStatsID,
      playerNum,
      batStatYear,
      team ,
      league ,
      games ,
      atBats ,
      runs ,
      hits ,
      totalBases ,
      doubles ,
      triples ,
      homeRuns ,
      runsBattedIn ,
      basesInBalls ,
      intentionalBasesOnBalls ,
       strikeouts ,
       stolenBases ,
       caughtStealing ,
      battingAverage ,
      onBasePercentage,
      sluggingPercentage ,
      onBasePlusSlugging ,
      groundOrAIrOuts
    );
    END;